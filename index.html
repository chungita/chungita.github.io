<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title data-key="site_title"></title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <nav>
            <div class="nav-left">
                <div class="logo" data-key="my_name"></div>
                <div class="badge-showcase">
                    <img src="images/badge/KSHS_emblem.png" alt="badge 1">
                    <img src="images/badge/nthu_emblem.png" alt="badge 2">
                    <img src="images/badge/ROC_millitary_private_emblem.png" alt="badge 3">
                </div>
            </div>
            <button id="lang-toggle" class="lang-toggle-mobile" data-key="lang_toggle_mobile"></button>
            <button id="hamburger" class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul id="nav-menu" class="nav-menu">
                <li><a href="#about" data-key="nav_about"></a></li>
                <li><a href="#projects" data-key="nav_projects"></a></li>
                <li><a href="#experiences" data-key="nav_experiences"></a></li>
                <li><a href="#contact" data-key="nav_contact"></a></li>
                <li class="desktop-lang"><button id="lang-toggle-desktop" data-key="lang_toggle"></button></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="about">
            <img id="profile-pic" src="" alt="My Headshot " class="profile-pic">
            <script>
                // 立即設置圖片源，避免載入延遲
                document.getElementById('profile-pic').src = selectedImage;
            </script>
            <h1 data-key="about_title"></h1>
            <p class="subtitle" data-key="about_subtitle"></p>
            <p data-key="about_desc"></p>
            <a href="files/I-Ta Chung_CV.pdf" class="cta-button" target="_blank" data-key="cv_button"></a>
        </section>

        <section id="projects">
            <h2 data-key="projects_title"></h2>

            <div class="project-card">
                <h3 data-key="project1_title"></h3>
                <div>
                    <img src="images/ultrasound_assisted_thrombosis_catheter.png" alt="Catheter photo 1">
                    <video id="catheter-video-main" autoplay loop muted playsinline controls>
                        <source src="files/catheter.mp4" type="video/mp4">
                    </video>
                </div>

                <p data-key="project1_desc"></p>
                <p><a class="project-more" href="projects/project1.html" data-key="more_details"></a></p>
            </div>

            <div class="project-card">
                <h3 data-key="project2_title"></h3>
                <img src="images/4ch_transducer.png" class="project-image">
                <div class="video-row">
                    <video autoplay loop muted playsinline controls>
                        <source src="files/votexxz-acoustic-field.mp4" type="video/mp4">
                    </video>
                    <video autoplay loop muted playsinline controls>
                        <source src="files/votexxy-acoustic-field.mp4" type="video/mp4">
                    </video>
                </div>
                <p data-key="project2_desc"></p>
                <p><a class="project-more" href="projects/project2.html" data-key="more_details"></a></p>
            </div>

            <div class="project-card">
                <h3 data-key="project3_title"></h3>
                <img src="images/project3-prosthetic-1.jpg" alt="義肢 SolidWorks 模型">
                <img src="images/project3-prosthetic-2.jpg" alt="3D 列印成品">
                <p data-key="project3_desc"></p>
                <p><a class="project-more" href="projects/project3.html" data-key="more_details"></a></p>
            </div>

        </section>

        <section id="experiences">
            <h2 data-key="experiences_title"></h2>

            <div class="experience-card">
                <h3 data-key="exp1_title"></h3>
                <div>
                    <img src="images/exp1_1.jpg" alt="Experience 1 Photo">
                </div>
                <p class="experience-company" data-key="exp1_company"></p>
                <p class="experience-meta" data-key="exp1_meta"></p>
                <p class="experience-desc" data-key="exp1_desc"></p>
            </div>

            <div class="experience-card">
                <h3 data-key="exp2_title"></h3>
                <div>
                    <img src="images/experience2-photo.jpg" alt="Experience 2 Photo">
                </div>
                <p class="experience-company" data-key="exp2_company"></p>
                <p class="experience-meta" data-key="exp2_meta"></p>
                <p class="experience-desc" data-key="exp2_desc"></p>
            </div>
        </section>

        <section id="contact">
            <h2 data-key="contact_title"></h2>
            <p data-key="contact_desc"></p>
            <ul>
                <li><a href="mailto:joe.chungita@gmail.com" data-key="contact_email"></a></li>
                <li><a href="https://github.com/chungita" target="_blank">GitHub</a></li>
            </ul>
        </section>
    </main>

    <footer>
        <p data-key="footer_text"></p>
    </footer>

    <script src="lang.js"></script>
    <script>
        // 在頁面載入前就決定要使用哪張圖片，避免刷新效果
        const headshotImages = [
            'images/headshot/chungita_nthu_2024_graduation_photo1.jpg',
            'images/headshot/chungita_nthu_2024_graduation_photo2.jpg'
        ];
        
        // 隨機選擇一張圖片
        const randomIndex = Math.floor(Math.random() * headshotImages.length);
        const selectedImage = headshotImages[randomIndex];

        // 漢堡菜單切換
        const hamburger = document.getElementById('hamburger');
        const navMenu = document.getElementById('nav-menu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // 點擊菜單項時關閉菜單
        navMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });

        // 點擊語言切換按鈕時的處理
        const langToggleDesktop = document.getElementById('lang-toggle-desktop');
        const langToggleMobile = document.getElementById('lang-toggle');
        
        if (langToggleDesktop) {
            langToggleDesktop.addEventListener('click', (e) => {
                e.stopPropagation();
            });
        }
        
        if (langToggleMobile) {
            langToggleMobile.addEventListener('click', (e) => {
                e.stopPropagation();
            });
        }
    </script>
</body>
</html>