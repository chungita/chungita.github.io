/* =================================
   1. 基礎設置與重置樣式
   ================================= */

/* HTML 基礎設置 */
html {
    margin: 0;
    padding: 0;
    scroll-behavior: smooth; /* 確保平滑滾動套用在實際進行滾動的元素上 */
}

/* 全域字體和基礎樣式 */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    line-height: 1.6;
    background-color: #f4f7f6; /* 柔和的背景灰 */
    color: #333;
    margin: 0;
    padding: 0;
}

/* =================================
   2. 導航欄 (Header & Navbar)
   ================================= */

/* 主要導航欄樣式 */
header {
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    padding: 1rem 5%;
    position: sticky; /* 保持在頂部 */
    top: 0;
    z-index: 10;
    width: 90%; /* 修正寬度以配合 padding */
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px; /* 限制導航欄內容寬度 */
    margin: 0 auto;
}

/* Logo 樣式 */
nav .logo {
    font-size: 1.5rem;
    font-weight: bold;
    color: #005f73; /* 生醫領域常用的藍綠色 */
    white-space: nowrap; /* 防止文字換行 */
    flex-shrink: 0; /* 防止在flex容器中被壓縮 */
}

/* 導航連結樣式 */
nav ul {
    list-style: none;
    display: flex;
    gap: 25px; /* 增加連結間距 */
    margin: 0;
    padding: 0;
}

nav a {
    text-decoration: none;
    color: #005f73;
    font-weight: 500;
    transition: color 0.3s;
    font-size: 1rem;
    white-space: nowrap; /* 防止文字換行 */
}

nav a:hover {
    color: #00a896;
}

/* =================================
   3. 導航欄左側功能區域
   ================================= */

/* nav-left 容器：包含 logo、徽章展示櫃與語言切換 */
.nav-left {
    display: flex;
    align-items: center; /* 垂直居中對齊 */
    gap: 15px; /* 元件之間的間距 */
    flex: 1; /* 佔據剩餘空間 */
}

/* =================================
   4. 徽章展示櫃樣式
   ================================= */

/* 徽章展示櫃容器 */
.badge-showcase {
    display: flex;
    align-items: center;
    gap: 8px; /* 徽章之間的間距 */
}

/* 徽章圖片基礎樣式 */
.badge-showcase img {
    width: 24px;
    height: 24px;
    object-fit: cover; /* 確保圖片不被拉伸 */
    border-radius: 50%; /* 圓形徽章 */
    background-color: #f4f7f6; /* 讓透明背景的徽章更好看 */
    padding: 6px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease; /* 懸停動畫 */
}

/* 徽章懸停效果 */
.badge-showcase img:hover {
    transform: scale(3); /* 懸停時放大 */
    border-color: #007bff; /* 懸停時邊框變色 */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* 增加陰影使其更像「浮」起來 */
    border-radius: 8px; /* 放大後變為方形/圓角 */
    z-index: 100; /* 確保它在最上層 */
}

/* =================================
   5. 語言切換功能
   ================================= */

/* 桌面版和手機版語言切換按鈕共同樣式 */
#lang-toggle-desktop,
.lang-toggle-mobile {
    background: none;
    border: none;
    color: #005f73;
    font-weight: 500;
    font-size: 1rem;
    font-family: inherit;
    cursor: pointer;
    padding: 0;
    transition: color 0.3s;
}

#lang-toggle-desktop:hover,
.lang-toggle-mobile:hover {
    color: #00a896;
}

/* =================================
   6. 漢堡選單按鈕
   ================================= */

/* 漢堡選單按鈕基礎樣式 */
.hamburger {
    display: none;
    flex-direction: column;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    gap: 5px;
}

/* 漢堡選單線條 */
.hamburger span {
    width: 25px;
    height: 3px;
    background-color: #005f73;
    border-radius: 2px;
    transition: all 0.3s ease;
}

/* 漢堡選單激活狀態動畫 */
.hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
}

.hamburger.active span:nth-child(2) {
    opacity: 0;
}

.hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(8px, -8px);
}

/* 導航選單 */
.nav-menu {
    list-style: none;
    display: flex;
    gap: 25px;
    margin: 0;
    padding: 0;
}

/* =================================
   7. 主要內容區域
   ================================= */

/* 主容器樣式 */
main {
    max-width: 1200px;
    margin: 20px auto; /* 頂部也增加 margin */
    padding: 20px;
}

/* 通用區塊樣式 */
section {
    background-color: #ffffff;
    margin-bottom: 25px;
    padding: 30px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

/* 通用標題樣式 */
section h2 {
    font-size: 2rem;
    color: #005f73;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 10px;
    margin-top: 0; /* 移除 h2 預設的上邊距 */
}

/* =================================
   8. 關於我 (About Me) 區域
   ================================= */

#about {
    text-align: center;
}

/* 個人頭像樣式 */
.profile-pic {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover; /* 確保圖片不變形 */
    border: 4px solid #005f73;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

/* 主標題和副標題樣式 */
#about h1 {
    margin-top: 15px;
    margin-bottom: 5px;
}

.subtitle {
    font-size: 1.2rem;
    color: #555;
    font-style: italic;
    margin-top: 0;
}

/* 關於我段落樣式 */
#about p {
    max-width: 700px; /* 讓段落易於閱讀 */
    margin: 15px auto; /* 置中 */
}

/* 行動按鈕樣式 */
.cta-button {
    display: inline-block;
    background-color: #00a896;
    color: #fff;
    padding: 12px 25px;
    text-decoration: none;
    border-radius: 5px;
    margin-top: 15px;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.2s;
}

.cta-button:hover {
    background-color: #007a6e;
    transform: translateY(-2px); /* 輕微上浮效果 */
}

/* =================================
   9. 作品集 (Projects) 區域
   ================================= */

/* 專案卡片基礎樣式 */
.project-card {
    margin-bottom: 30px;
    border-bottom: 1px solid #eee;
    padding-bottom: 20px;
}

/* 最後一個卡片不要底線 */
.project-card:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.project-card h3 {
    color: #007a6e;
    font-size: 1.5rem;
}

/* =================================
   10. 專案媒體展示樣式
   ================================= */

/* Project 1: 圖片和影片容器 */
.project-card > div:not(.video-row) {
    display: flex;
    flex-direction: column; /* 手機版預設為上下堆疊 */
    gap: 12px;
    align-items: stretch;
    margin-top: 12px;
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
}

/* 通用圖片和影片樣式 */
.project-card > div > img,
.project-card > div > video {
    width: 100%;
    height: auto;
    min-height: 250px;
    object-fit: contain;
    border-radius: 6px;
    border: 1px solid #222;
    display: block;
    margin: 0;
    box-sizing: border-box;
    background: #f4f7f6;
    padding: 8px;
    overflow: hidden; /* 防止內容溢出 */
}

/* Project 2: 主要圖片樣式 */
.project-image {
    display: block;
    margin: 12px 0;
    width: 100%;
    max-width: 100%;
    height: auto;
    border-radius: 6px;
    border: 1px solid #222;
    box-sizing: border-box;
    background: #f4f7f6;
    padding: 8px;
}

/* Project 2: 影片列樣式 (電腦版預設：並排) */
.video-row {
    display: flex;
    flex-direction: row; /* 橫向 */
    gap: 12px;
    align-items: stretch;
    justify-content: center;
    margin-top: 12px;
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
    overflow: visible;
    padding: 0;
}

/* Project 2: 列中的影片樣式 (電腦版寬度計算) */
.video-row > video {
    /* (100% - 12px gap) / 2 = 50% - 6px */
    flex: 1 1 calc(50% - 6px); 
    max-width: calc(50% - 6px);
    height: auto;
    max-height: 400px;
    object-fit: contain;
    border-radius: 6px;
    border: 1px solid #222;
    box-sizing: border-box;
    background: #f4f7f6;
    display: block;
    padding: 8px;
}

/* =================================
   11. 經歷 (Experiences) 區域
   ================================= */

/* 經歷卡片樣式 */
.experience-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.experience-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
}

.experience-card h3 {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.4rem;
    color: #005f73;
}

.experience-card > div {
    display: flex;
    justify-content: center;
    margin: 15px 0;
    gap: 15px; /* 添加圖片間距 */
    flex-wrap: wrap; /* 允許在小螢幕上換行 */
}

.experience-card img {
    height: auto;
    max-height: 400px; /* 設置最大高度 */
    width: calc(50% - 7.5px); /* 每個框占一半寬度，減去間距的一半 */
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    object-fit: contain; /* 改為 contain 以保持比例且不裁切 */
    /* 添加類似 project 2 的框架樣式 */
    border: 1px solid #222;
    background: #f4f7f6;
    padding: 12px; /* 增加 padding 讓圖片有更多空間 */
    box-sizing: border-box;
}

/* 血腥內容警告樣式 */
.censored-image-container {
    position: relative;
    width: calc(50% - 7.5px);
    height: auto;
    max-height: 400px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border: 1px solid #222;
    background: #f4f7f6;
    padding: 12px;
    box-sizing: border-box;
    cursor: pointer;
    overflow: hidden;
}

.censored-image {
    width: 100% !important;
    height: auto !important;
    max-height: 376px; /* 減去padding後的最大高度 */
    object-fit: contain;
    transition: filter 0.3s ease;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    border-radius: 0;
    position: relative;
}

/* 黑白網格覆蓋層 */
.censored-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        linear-gradient(45deg, rgba(0,0,0,0.8) 25%, transparent 25%), 
        linear-gradient(-45deg, rgba(0,0,0,0.8) 25%, transparent 25%), 
        linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.8) 75%), 
        linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.8) 75%);
    background-size: 20px 20px;
    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
    pointer-events: none;
    z-index: 1;
    transition: opacity 0.3s ease;
}

.warning-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7); /* 改為半透明黑色背景 */
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: opacity 0.3s ease;
}

.warning-text {
    text-align: center;
    color: white;
    font-weight: bold;
}

.warning-icon {
    font-size: 2rem;
    display: block;
    margin-bottom: 10px;
}

.warning-text p {
    margin: 5px 0;
    font-size: 0.9rem;
}

/* 點擊後顯示原圖 */
.censored-image-container.revealed .censored-image::before {
    opacity: 0;
}

.censored-image-container.revealed .warning-overlay {
    opacity: 0;
    pointer-events: none;
}

.censored-image-container:hover .warning-overlay {
    background: rgba(0, 0, 0, 0.8); /* 懸停時稍微加深黑色背景 */
}

/* 經歷項目時間軸樣式 */
.experience-item {
    position: relative;
    padding-left: 25px;
    margin-bottom: 40px;
    border-left: 3px solid #e0e0e0; /* 左側時間軸線條 */
}

/* 最後一個項目不需要額外的底部邊距 */
.experience-item:last-child {
    margin-bottom: 10px;
    border-left: 3px solid transparent; /* 隱藏線條但保留間距 */
}

/* 時間軸的小圓點裝飾 */
.experience-item::before {
    content: '';
    position: absolute;
    left: -8px; /* 圓點位置調整 */
    top: 5px;
    width: 13px;
    height: 13px;
    background-color: #00a896;
    border-radius: 50%;
    border: 2px solid #fff;
    box-shadow: 0 0 0 2px #00a896; /* 雙層圓圈效果 */
}

/* 經歷項目文字樣式 */
.experience-item h3 {
    margin-top: 0;
    margin-bottom: 5px;
    font-size: 1.4rem;
    color: #333;
}

.experience-company {
    font-weight: bold;
    color: #005f73;
    font-size: 1.1rem;
    display: block;
    margin-bottom: 5px;
}

.experience-meta {
    color: #888;
    font-size: 0.9rem;
    margin-bottom: 12px;
    font-style: italic;
}

.experience-desc ul {
    margin: 0;
    padding-left: 20px;
}

.experience-desc li {
    margin-bottom: 8px;
    color: #555;
}

/* =================================
   12. 聯絡方式 (Contact) 區域
   ================================= */

#contact ul {
    list-style: none;
    padding-left: 0;
}

#contact li {
    margin-bottom: 10px;
    font-size: 1.1rem;
}

#contact a {
    text-decoration: none;
    color: #007a6e;
    font-weight: 500;
}

#contact a:hover {
    text-decoration: underline;
}

/* =================================
   13. 頁腳 (Footer) 區域
   ================================= */

footer {
    text-align: center;
    padding: 20px;
    color: #777;
    margin-top: 20px;
}
/* =================================
   14. 桌面版響應式樣式 (851px以上)
   ================================= */

@media (min-width: 851px) {
    /* 桌面版：隱藏手機版語言切換，顯示桌面版 */
    .lang-toggle-mobile {
        display: none;
    }
    
    .desktop-lang {
        display: block;
    }

    /* Project 1: 電腦版橫向排列 */
    .project-card > div:not(.video-row) {
        flex-direction: row; /* 電腦版改為左右並排 */
        align-items: center;
        gap: 20px;
        overflow: hidden; /* 防止內容溢出 */
    }
    
    .project-card > div:not(.video-row) > img,
    .project-card > div:not(.video-row) > video {
        flex: 1 1 calc(50% - 10px); /* 精確計算寬度，減去gap的一半 */
        width: calc(50% - 10px);
        max-width: calc(50% - 10px);
        height: 300px; /* 固定高度確保一致性 */
        object-fit: contain; /* 確保內容適合容器 */
    }
}
/* =================================
   15. 手機版響應式樣式 (850px以下)
   ================================= */

@media (max-width: 850px) {
    /* 導航欄手機版布局 */
    nav {
        position: relative;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 15px; /* 語言切換和漢堡選單之間的間距 */
    }

    /* 顯示漢堡選單按鈕 */
    .hamburger {
        display: flex;
        order: 3; /* 漢堡選單在最右側 */
    }

    /* 手機版導航選單 */
    .nav-menu {
        position: absolute;
        top: calc(140%);
        left: 0;
        right: 0;
        background-color: #fff;
        flex-direction: column;
        gap: 0;
        padding: 15px 20px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        display: none;
        width: 100%;
        box-sizing: border-box;
        border-top: 2px solid #e0e0e0;
    }

    .nav-menu.active {
        display: flex;
    }

    .nav-menu li {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
        width: calc(100% - 50px);
    }

    .nav-menu li:last-child {
        border-bottom: none;
    }

    .nav-menu li a,
    .nav-menu li button {
        display: block;
        width: 100%;
        text-align: left;
    }

    .nav-menu li button {
        background: none;
        border: none;
        padding: 0;
        font-size: 1rem;
        color: #005f73;
        font-weight: 500;
        cursor: pointer;
    }

    /* 手機版nav-left樣式調整 */
    .nav-left {
        display: flex; /* 保持flex布局 */
        align-items: center;
        flex: 1;
        gap: 8px; /* 減少間距以容納更多元素 */
        order: 1; /* nav-left在最左側 */
    }

    /* 手機版語言切換樣式 */
    .desktop-lang {
        display: none !important;
    }
    
    .lang-toggle-mobile {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 35px; /* 與漢堡選單按鈕大小一致 */
        height: 35px; /* 與漢堡選單按鈕大小一致 */
        font-size: 1.2rem; /* 讓emoji更明顯 */
        border-radius: 4px;
        transition: background-color 0.3s, transform 0.2s;
        order: 2; /* 放在漢堡選單左側 */
    }
    
    .lang-toggle-mobile:hover {
        background-color: rgba(0, 95, 115, 0.1);
        transform: scale(1.05);
    }

    /* 手機版徽章展示櫃調整 */
    .badge-showcase {
        display: flex; /* 在手機版顯示徽章 */
        gap: 6px; /* 減少徽章間距 */
    }
    
    .badge-showcase img {
        width: 20px; /* 手機版徽章稍微縮小 */
        height: 20px;
        padding: 4px; /* 減少padding */
    }

    /* 手機版主要內容調整 */
    main {
        padding: 10px;
        max-width: 100%;
    }

    section {
        padding: 20px;
    }

    section h2 {
        font-size: 1.8rem;
    }
    
    .profile-pic {
        width: 120px;
        height: 120px;
    }
    
    /* 手機版經歷卡片樣式 */
    .experience-card {
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .experience-card h3 {
        font-size: 1.2rem;
    }
    
    .experience-card img {
        max-width: 100%;
        height: auto;
        max-height: 300px;
        object-fit: contain;
    }

    /* Project 2 手機版覆蓋樣式 - 修正手機版堆疊問題 */
    .video-row {
        flex-direction: column; /* 強制改回垂直 */
    }
    
    .video-row > video {
        max-width: 100%; /* 手機版寬度占滿 */
        flex: 1 1 auto;
    }
}

/* =================================
   21. 隨機遊戲圖片樣式
   ================================= */

/* 隨機遊戲圖片 - 位於右下角且被body遮住 */
.random-game-image {
    position: fixed;
    bottom: 0;     /* 底端對齊網頁下方 */
    right: 0;      /* 右側對齊網頁右邊 */
    width: auto;   /* 寬度自動調整以保持比例 */
    height: 150px; /* 統一設置高度為200px */
    opacity: 0;    /* 初始完全透明 */
    z-index: -1;   /* 確保在所有內容後面 */
    pointer-events: none; /* 不影響頁面互動 */
    transition: opacity 0.5s ease;
}

/* 當滾動到經歷部分時顯示圖片 */
.random-game-image.show {
    opacity: 0.3; /* 顯示時的半透明效果 */
}

/* 響應式調整 */
@media (max-width: 768px) {
    .random-game-image {
        height: 180px; /* 手機版稍微縮小 */
        bottom: 0;     /* 手機版也對齊底部 */
        right: 0;      /* 手機版也對齊右側 */
    }
}

/* =================================
   22. 目標圖片樣式
   ================================= */

/* 目標圖片 - 位於左下角 */
.target-image {
    position: fixed;
    bottom: 0;     /* 底端對齊網頁下方 */
    left: 0;       /* 左側對齊網頁左邊 */
    width: auto;   /* 寬度自動調整以保持比例 */
    height: 200px; /* 目標圖片設定較小的高度 */
    opacity: 0;    /* 初始完全透明 */
    z-index: -1;   /* 確保在所有內容後面 */
    pointer-events: none; /* 不影響頁面互動 */
    transition: opacity 0.5s ease;
}

/* 當滾動過 projects 一半時顯示圖片 */
.target-image.show {
    opacity: 0.4; /* 顯示時的半透明效果 */
}

/* 響應式調整 */
@media (max-width: 768px) {
    .target-image {
        height: 180px; /* 手機版與角色圖片保持一致的高度 */
    }
}